# Echo Server

C言語で実装されたシンプルなエコーサーバーとクライアントです。クライアントから送信されたメッセージをそのまま返すTCPサーバーです。

## 概要

ソケットプログラミングの基礎を学ぶためのプロジェクトです。
[Beej's Guide to Network Programming](https://beej.us/guide/bgnet/)を参考に実装しました。

## 機能

- **エコーサーバー**: クライアントから受信したメッセージをそのまま返送
- **エコークライアント**: サーバーにメッセージを送信し、レスポンスを受信
- IPv4/IPv6の両方に対応
- カスタマイズ可能なポート番号
- Address Sanitizerによるメモリ安全性チェック

## 必要要件

- GCC (GNU Compiler Collection)
- POSIX準拠のオペレーティングシステム (Linux, macOS等)

## ビルド方法

```bash
make
```

このコマンドで以下の2つの実行ファイルが生成されます:
- `echoserver` - エコーサーバー
- `echoclient` - エコークライアント

## 使用方法

### サーバーの起動

デフォルト設定で起動:

```bash
./echoserver
```

カスタムポートで起動:

```bash
./echoserver -p 8080
```

オプション:
- `-p <ポート番号>`: リッスンするポート番号 (デフォルト: 10823)
- `-m <数>`: 最大保留接続数 (デフォルト: 5)
- `-h`: ヘルプメッセージを表示

### クライアントの実行

デフォルト設定でメッセージを送信:

```bash
./echoclient
```

カスタムメッセージを送信:

```bash
./echoclient -m "こんにちは、世界！"
```

カスタムサーバーとポートを指定:

```bash
./echoclient -s localhost -p 8080 -m "テストメッセージ"
```

オプション:
- `-s <サーバー>`: 接続先サーバー (デフォルト: localhost)
- `-p <ポート番号>`: 接続先ポート番号 (デフォルト: 10823)
- `-m <メッセージ>`: 送信するメッセージ (デフォルト: "Hello Summer!!")
- `-h`: ヘルプメッセージを表示

## 使用例

### 基本的な使用例

1. サーバーを起動:
   ```bash
   ./echoserver
   ```

2. 別のターミナルでクライアントを実行:
   ```bash
   ./echoclient -m "テストメッセージ"
   ```

3. クライアントに "テストメッセージ" が表示されます

### カスタムポートでの使用例

1. ポート8080でサーバーを起動:
   ```bash
   ./echoserver -p 8080
   ```

2. ポート8080に接続:
   ```bash
   ./echoclient -p 8080 -m "カスタムポートテスト"
   ```
